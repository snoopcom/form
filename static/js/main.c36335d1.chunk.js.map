{"version":3,"sources":["api/Index.js","components/submitForm/ValidationSchema.js","components/submitForm/SubmitForm.js","components/app/App.js","index.js"],"names":["axios","defaults","baseURL","getData","body","post","validationSchema","Yup","name","max","required","password","matches","passConfir","oneOf","email","site","url","age","typeError","min","skills","acceptTerms","initState","errorMailExists","successMessageServer","errorMessageServer","initialValues","SubmitForm","state","dataUser","onSubmit","values","a","skillsFilter","filter","skill","response","data","setState","isAxiosError","this","className","htmlFor","Item","id","placeholder","size","suffix","UserOutlined","Password","MailOutlined","LinkOutlined","rowKey","row","pagination","columns","title","key","render","text","record","i","StarOutlined","autoFocus","createNewRow","type","shouldUpdate","disabled","React","Component","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c36335d1.chunk.js","sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'http://localhost:3010';\n\nconst getData = (body) => axios.post('/sign-up', body);\n\nexport default getData;\n","import * as Yup from 'yup';\n\nconst validationSchema = Yup.object({\n  name: Yup.string()\n    .max(50, 'Имя должно содержать не более 50 символов')\n    .required('Пожалуйста, введите имя'),\n  password: Yup.string()\n    .matches(\n      /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=(.*[a-zA-Z]){4}).{8,20}$/,\n      'Введите от 8 до 40 символов, как минимум одна цифра и одна заглавная буква',\n    )\n    .required('Пожалуйста, введите пароль'),\n  passConfir: Yup.string()\n    .oneOf([Yup.ref('password'), null], 'Повторите пароль')\n    .required('Пароли не совподают'),\n  email: Yup.string().email('Неккоретный email').required('Пожалуйста, введите почту'),\n  site: Yup.string().url('Неверный адрес сайта'),\n  age: Yup.number('Must be an integer')\n    .typeError('Введите Ваш возраст')\n    .min(18, 'Ваш возраст должнен быть от 18 до 65 лет')\n    .max(65, 'Ваш возраст должнен быть от 18 до 65 лет')\n    .required('Сколько Вам лет?'),\n  skills: Yup.array(),\n  acceptTerms: Yup.bool().required('Required').oneOf([true], 'Нужно Ваше согласие'),\n});\n\nexport default validationSchema;\n","import React from 'react';\nimport { Formik } from 'formik';\nimport {\n  Form,\n  Input,\n  InputNumber,\n  Table,\n  AddRowButton,\n  Checkbox,\n  SubmitButton,\n  ResetButton,\n} from 'formik-antd';\nimport {\n  MailOutlined, UserOutlined, LinkOutlined, StarOutlined,\n} from '@ant-design/icons';\n\nimport getData from '../../api/Index';\nimport './SubmitForm.scss';\n\nimport validationSchema from './ValidationSchema';\n\nconst initState = {\n  errorMailExists: null,\n  successMessageServer: null,\n  errorMessageServer: null,\n};\n\n/* поля, которые отправляются на сервер */\nconst initialValues = {\n  name: '',\n  password: '',\n  passConfir: '',\n  email: '',\n  site: '',\n  age: null,\n  skills: [''],\n  acceptTerms: false,\n};\n\nclass SubmitForm extends React.Component {\n  state = initState;\n\n  dataUser = initialValues;\n\n  onSubmit = async (values) => {\n    const skillsFilter = values.skills.filter((skill) => skill !== ''); // можно просто Boolean :)\n\n    const body = {\n      ...values,\n      skills: skillsFilter,\n    };\n\n    try {\n      /* объект с данными */\n      const response = await getData(body);\n      const { data } = response;\n      this.setState({\n        errorMailExists: null, // если почта такой нет, то ошибку не выдаем\n        errorMessageServer: null, // убираем соощение об ошибке сервера\n        successMessageServer: data, // выдаем сообщение об успехе\n      });\n    } catch (error) {\n      if (error.isAxiosError) {\n        this.setState({\n          errorMessageServer: 'Сервер не отвечает',\n          successMessageServer: null, // убираем сообщение об успешной регистрации\n        });\n      }\n      this.setState({\n        // выдаем пользователю, что такая почта уже есть\n        errorMailExists: error.response.data,\n        successMessageServer: null, // убираем сообщение о успешной регистрации\n        errorMessageServer: null, // и сообщение, что сервер не отвечает\n      });\n    }\n  };\n\n  render() {\n    const { errorMailExists, successMessageServer, errorMessageServer } = this.state;\n    return (\n      <Formik\n        onSubmit={this.onSubmit}\n        initialValues={this.dataUser}\n        validationSchema={validationSchema}\n      >\n        <Form className=\"form\">\n          <div>\n            <label htmlFor=\"name\">\n              Имя\n              <span className=\"required-star\"> *</span>\n            </label>\n            <Form.Item name=\"name\">\n              <Input\n                id=\"name\"\n                name=\"name\"\n                placeholder=\"Алексей\"\n                size=\"large\"\n                suffix={<UserOutlined />}\n              />\n            </Form.Item>\n          </div>\n          <div>\n            <label htmlFor=\"password\">\n              Пароль\n              <span className=\"required-star\"> *</span>\n            </label>\n            <Form.Item name=\"password\">\n              <Input.Password\n                id=\"password\"\n                name=\"password\"\n                placeholder=\"My-password-123\"\n                size=\"large\"\n              />\n            </Form.Item>\n          </div>\n          <div>\n            <label htmlFor=\"passConfir\">\n              Повторите пароль\n              <span className=\"required-star\"> *</span>\n            </label>\n            <Form.Item name=\"passConfir\">\n              <Input.Password\n                id=\"passConfir\"\n                name=\"passConfir\"\n                placeholder=\"My-password-123\"\n                size=\"large\"\n              />\n            </Form.Item>\n          </div>\n          <div>\n            <label htmlFor=\"email\">\n              Почта\n              <span className=\"required-star\"> *</span>\n            </label>\n            <span className=\"errorEmail\">{errorMailExists}</span>\n            <Form.Item name=\"email\">\n              <Input\n                id=\"email\"\n                name=\"email\"\n                placeholder=\"my@mail.ru\"\n                size=\"large\"\n                suffix={<MailOutlined />}\n              />\n            </Form.Item>\n          </div>\n          <div>\n            <label htmlFor=\"site\">Ваш сайт</label>\n            <Form.Item name=\"site\">\n              <Input\n                id=\"site\"\n                name=\"site\"\n                placeholder=\"http://www.my-site.ru\"\n                size=\"large\"\n                suffix={<LinkOutlined />}\n              />\n            </Form.Item>\n          </div>\n          <div>\n            <label htmlFor=\"age\">\n              Возраст\n              <span className=\"required-star\"> *</span>\n            </label>\n            <Form.Item name=\"age\">\n              <InputNumber id=\"age\" name=\"age\" placeholder=\"27\" size=\"large\" />\n            </Form.Item>\n          </div>\n          <div>\n            <Table\n              name=\"skills\"\n              rowKey={(row) => `${row.id}`}\n              size=\"small\"\n              pagination={false}\n              columns={[\n                {\n                  title: 'Skills',\n                  key: 'name',\n                  render: (text, record, i) => (\n                    <Input\n                      name={`skills[${i}]`}\n                      placeholder=\"Умею вкусно поесть\"\n                      size=\"large\"\n                      suffix={<StarOutlined />}\n                      autoFocus\n                    />\n                  ),\n                },\n              ]}\n            />\n            <AddRowButton\n              name=\"skills\"\n              createNewRow={(text) => text || ''}\n              size=\"large\"\n              type=\"primary\"\n              className=\"skillsButton\"\n              id=\"addSkill\"\n            >\n              Добавить skill\n            </AddRowButton>\n          </div>\n          <div>\n            <Form.Item name=\"acceptTerms\" shouldUpdate={false}>\n              <Checkbox id=\"acceptTerms\" name=\"acceptTerms\" />\n              <label htmlFor=\"acceptTerms\">\n                <span> Согласен с условиями</span>\n                <span className=\"required-star\"> *</span>\n              </label>\n            </Form.Item>\n          </div>\n          <div className=\"formButtonsContainer\">\n            <SubmitButton disabled={false} size=\"large\" className=\"button\">\n              Зарегистрироваться\n            </SubmitButton>\n            <ResetButton size=\"large\" className=\"button\">\n              Очистить форму\n            </ResetButton>\n          </div>\n          <span className=\"success\">{successMessageServer}</span>\n          <span className=\"error\">{errorMessageServer}</span>\n        </Form>\n      </Formik>\n    );\n  }\n}\n\nexport default SubmitForm;\n","import React from 'react';\nimport SubmitForm from '../submitForm/SubmitForm';\n\nimport './App.scss';\n\nconst App = () => (\n  <div className=\"App\">\n    <h2 className=\"header\">Форма регистрации</h2>\n    <SubmitForm />\n  </div>\n);\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css';\r\nimport './index.scss';\r\nimport App from './components/app/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}